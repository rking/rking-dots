#!/bin/zsh
# Helpers for ssh-from-mobile-phone. Run ,h to see the options.
## Tips:
## Install the "Hacker's Keyboard" app. It is much better.
## Otherwise, it is faster to hit "12#" then a number/special than to longpress.
## Know your terminal keys: Ctrl+i, Ctrl+u ...
for dep in perl links; do
    which $dep > /dev/null || echo "Missing $dep, so some ,feature won't work."
done
alias ,h='perl -ne "print qq(\$1 - \$2\n) if /^[^,]*?(,[^(=]+)?.*## (.+)/" ~/.,' ## help
alias ,.,='vim ~/., && source ~/.,' ## Edit and source dotcomma file
,g() { ## Google using links. Works with 0, 1, or many arguments.
  links "http://www.google.com/search?q=$*"
}
,M() { ## Configure & make install, passing $DOT_CONFIGURE_ARGS to ./configure, and using $MAKE_INSTALL_SU prepended to the 'make install' command.
    ( [ -e configure ] || ./autogen.sh ) && \
        ./configure $DOT_CONFIGURE_ARGS && $MAKE_INSTALL_SU make install
}
alias ,t='tmux-session shell'
if [ ! -z "$ZSH_VERSION" ]; then
  bindkey -s Â¦ '|' ## (Also note: The Android keyboard uses a messed up pipe symbol, but we fix that.)
fi
,cd() {
    eval $(echo "$@" | perl -0400 -e '$_ = quotemeta(<>); s|,|/|g; print "echo cd $_"')
} ## chdir, but s|,|/|g so you can type the path more quicklyer.
