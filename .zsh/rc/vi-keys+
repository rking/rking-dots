bindkey -v # vi keys
bindkey "^P" up-line-or-history
bindkey "^N" down-line-or-history
autoload edit-command-line; zle -N edit-command-line
bindkey -M vicmd v edit-command-line
bindkey "^[." insert-last-word # Alt+'.' gives !$'s value.
